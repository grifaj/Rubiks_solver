import h5py
import time
import matplotlib.pyplot as plt
import numpy as np


'''# Define a function to load the heuristic and time it
def load_heuristic():
    start_time = time.time()
    h = h5py.File('heuristic.hdf5', 'r')
    data = h['data'][:]
    heuristic = {row[0].decode('utf-8'): row[1] for row in data}
    h.close()
    return time.time() - start_time

times = []
for i in range(100):
    times.append(load_heuristic())
    print(i)

print(times)'''

times = [4.026811122894287, 4.023239374160767, 4.032070159912109, 3.917816400527954, 4.202233552932739, 4.366549730300903, 4.108007431030273, 3.929318428039551, 3.922538995742798, 3.9995362758636475, 4.154734134674072, 3.966998815536499, 4.0291101932525635, 4.011467456817627, 3.9431629180908203, 3.993562698364258, 4.228400945663452, 4.079631567001343, 4.1286396980285645, 4.037664413452148, 4.107768297195435, 3.7929418087005615, 3.8064188957214355, 3.8008224964141846, 3.7887015342712402, 3.802661657333374, 3.7993216514587402, 3.7746150493621826, 3.8278706073760986, 3.8222975730895996, 3.813690423965454, 3.789216995239258, 3.808687925338745, 3.786874294281006, 3.77999210357666, 3.7972500324249268, 3.7890772819519043, 3.804764747619629, 3.8086612224578857, 3.807158946990967, 3.7784488201141357, 3.79009747505188, 3.821169853210449, 3.79301381111145, 3.793257474899292, 3.7929370403289795, 3.787996768951416, 3.7989494800567627, 3.778312921524048, 4.228799104690552, 4.436845064163208, 4.114474296569824, 3.997706651687622, 3.7952022552490234, 3.8062400817871094, 3.9232778549194336, 3.856886148452759, 4.4197235107421875, 4.046752691268921, 4.152461051940918, 4.21285605430603, 4.971665859222412, 4.280925273895264, 4.096787452697754, 4.6488237380981445, 4.538649797439575, 4.60053277015686, 4.076207637786865, 4.003604173660278, 4.01588249206543, 4.022222280502319, 3.8476967811584473, 3.996589422225952, 3.8251683712005615, 3.8316943645477295, 3.8323349952697754, 3.8313615322113037, 3.838956832885742, 3.8195416927337646, 3.8094494342803955, 3.8283886909484863, 3.8274905681610107, 3.9234163761138916, 4.180688858032227, 3.9382452964782715, 3.849278450012207, 3.9018445014953613, 4.024991035461426, 4.162165880203247, 4.013880729675293, 3.7906711101531982, 3.8064773082733154, 3.7858779430389404, 3.7721877098083496, 3.800142526626587, 3.8085105419158936, 3.825291156768799, 3.891718626022339, 3.789703607559204, 3.883638620376587]

# An "interface" to matplotlib.axes.Axes.hist() method
n, bins, patches = plt.hist(x=times, bins='auto', color='#0504aa', alpha=0.7, rwidth=0.85)
plt.grid(axis='y', alpha=0.75)
plt.xlabel('Time/seconds')
plt.ylabel('Frequency')
plt.title('Histogram of times to load 2x2 heuristic')
maxfreq = n.max()
# Set a clean upper y-axis limit.
plt.ylim(ymax=np.ceil(maxfreq / 10) * 10 if maxfreq % 10 else maxfreq + 10)
plt.show()
